<html>

<head>

<!-- Mobile friendly styles that ensure proper rendering and touch zooming -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Load Google Fonts -->
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

<!-- Load this page's CSS -->
<link type="text/css" rel="stylesheet" href="/static/css/main-page.css" />

<!-- Load Bootstrap -->
<link type="text/css" rel="stylesheet" href="/static/bootstrap/css/bootstrap.css" />

<!-- Load Font Awesome (required for Bootstrap social buttons) -->
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

<!-- Load Bootstrap social buttons -->
<link type="text/css" rel="stylesheet" href="/static/bootstrap/css/bootstrap-social.css" />

<!-- Load Google Maps -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWLMNHOpkHQnyBKZdjyzA_22R20VZ36_E"></script>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script type="text/javascript" src="/static/bootstrap/js/bootstrap.js"></script>

<!-- Load this page's Javascript -->
<script type="text/javascript" src="/static/js/main-page.js"></script>

<script src="http://ajax.googleapis.com/ajax/libs/prototype/1.6.0.2/prototype.js"></script>

<script type="text/javascript" src="/static/js/detail.js"></script>

<style>
#map_canvas {
	width: 100%;
	height: 100%;
	background-color: #CCC;
}
</style>

<script>
//Precondition: Database has data (or result will be empy)
//Purpose: Pull market latlon/ marketType from database 
//		-Generate an array of array of markets where 
//		array = [ [lat, lon, marketType, marketName]
//			      [lat, lon, marketType, marketName]
//				   ...  ...      ...   ]   
function retrieveAllMarkets() {
"{% for market in markets %}"
	var oneMarket = [];
	oneMarket.push("{{ market.lat }}");            
	oneMarket.push("{{ market.lon }}");             
	oneMarket.push("{{ market.market_type }}");                
	oneMarket.push("{{ market.name }}");                      
	
	markets.push(oneMarket);
"{% endfor %}"
}

function retrieveOpenMarkets() {
"{% for market in markets_open %}"
	var oneMarket = [];
	oneMarket.push("{{ market.lat }}");            
	oneMarket.push("{{ market.lon }}");            
	oneMarket.push("{{ market.market_type }}");                
	oneMarket.push("{{ market.name }}");                      
	
	markets.push(oneMarket);
"{% endfor %}"
}

function retrieveClosedMarkets() {
"{% for market in markets_closed %}"
	var oneMarket = [];
	oneMarket.push("{{ market.lat }}");            
	oneMarket.push("{{ market.lon }}");            
	oneMarket.push("{{ market.market_type }}");                
	oneMarket.push("{{ market.name }}");                      
	
	markets.push(oneMarket);
"{% endfor %}"
}

function retrieveUpcomingMarkets() {
"{% for market in markets_upcoming %}"
	var oneMarket = [];
	oneMarket.push("{{ market.lat }}");            
	oneMarket.push("{{ market.lon }}");            
	oneMarket.push("{{ market.market_type }}");                
	oneMarket.push("{{ market.name }}");                      
	
	markets.push(oneMarket);
"{% endfor %}"
}

function retrieveFavoriteMarkets() {
"{% for market in markets_favourite %}"
	var oneMarket = [];
	oneMarket.push("{{ market.lat }}");            
	oneMarket.push("{{ market.lon }}");            
	oneMarket.push("{{ market.market_type }}");                
	oneMarket.push("{{ market.name }}");                      
	
	markets.push(oneMarket);
"{% endfor %}"
}
</script>

<title>Vancouver Markets</title>

</head>